# اسکریپت‌های دانلود مدل Vosk

این پوشه شامل اسکریپت‌های دانلود مدل‌های Vosk برای تشخیص گفتار آفلاین است.

## دانلود مدل سبک فارسی

برای دانلود مدل سبک فارسی Vosk (حدود 45 مگابایت)، دستور زیر را اجرا کنید:

```bash
npm run download-vosk-fa
```

یا:

```bash
node scripts/download-vosk-model-fa.cjs
```

### مشخصات مدل

- **نام مدل**: `vosk-model-small-fa-0.22`
- **حجم**: حدود 45 مگابایت
- **زبان**: فارسی (Farsi/Persian)
- **منبع**: [alphacephei.com](https://alphacephei.com/vosk/models)

### مسیر نصب

مدل در پوشه `models/vosk-model-small-fa-0.22` نصب می‌شود.

### نکات مهم

1. **اینترنت**: برای دانلود مدل نیاز به اتصال اینترنت دارید.
2. **فضای دیسک**: حداقل 50 مگابایت فضای خالی نیاز است.
3. **سیستم‌عامل**: این اسکریپت در Windows، Linux و macOS کار می‌کند.
4. **مدل بزرگتر**: اگر دقت بیشتری نیاز دارید، می‌توانید مدل بزرگتر (`vosk-model-fa-0.22` - حدود 1.4 گیگابایت) را به صورت دستی دانلود کنید.

### استفاده از مدل

پس از دانلود، مدل به صورت خودکار در سیستم تشخیص گفتار استفاده می‌شود. اگر مدل کوچک موجود نباشد، سیستم به صورت خودکار به دنبال مدل بزرگتر می‌گردد.

### دانلود دستی (در صورت عدم موفقیت اسکریپت)

اگر اسکریپت کار نکرد، می‌توانید مدل را به صورت دستی دانلود کنید:

1. **رفتن به صفحه مدل‌ها:**
   - به [alphacephei.com/vosk/models](https://alphacephei.com/vosk/models) بروید
   - یا به [GitHub Releases](https://github.com/alphacep/vosk-api/releases) بروید

2. **پیدا کردن مدل فارسی:**
   - مدل کوچک: `vosk-model-small-fa-0.22.zip` (حدود 45 MB)
   - مدل بزرگ: `vosk-model-fa-0.22.zip` (حدود 1.4 GB)

3. **دانلود و استخراج:**
   ```bash
   # ایجاد پوشه models (در صورت عدم وجود)
   mkdir models
   
   # دانلود فایل ZIP (مثال برای مدل کوچک)
   # سپس استخراج فایل ZIP در پوشه models
   # نام پوشه استخراج شده باید vosk-model-small-fa-0.22 یا vosk-model-fa-0.22 باشد
   ```

4. **ساختار نهایی:**
   ```
   models/
   └── vosk-model-small-fa-0.22/  (یا vosk-model-fa-0.22)
       ├── am/
       ├── graph/
       └── ...
   ```

### عیب‌یابی

اگر خطایی رخ داد:

1. **بررسی اتصال اینترنت:** اطمینان حاصل کنید که اتصال اینترنت برقرار است.
2. **بررسی فضای دیسک:** حداقل 50 مگابایت برای مدل کوچک و 1.5 گیگابایت برای مدل بزرگ نیاز است.
3. **بررسی دسترسی‌ها:** اطمینان حاصل کنید که پوشه `models` قابل نوشتن است.
4. **اجرای با دسترسی بالا:** در صورت نیاز، اسکریپت را با دسترسی Administrator اجرا کنید.
5. **دانلود دستی:** اگر اسکریپت کار نکرد، از روش دانلود دستی استفاده کنید (بالا را ببینید).
